async function d(r){if(r.size>10485760)return{success:!1,error:`Bestand is te groot (max ${10485760/1024/1024}MB)`,needsManualConversion:!0};try{const e=await c(r);return console.log("DWG File Info:",{version:e.version,size:r.size,name:r.name}),e.version&&e.version.startsWith("AC")?{success:!1,needsManualConversion:!0}:{success:!1,error:"Ongeldig DWG bestand formaat",needsManualConversion:!0}}catch(e){return console.error("DWG conversion error:",e),{success:!1,error:e instanceof Error?e.message:"Fout bij het lezen van het DWG bestand",needsManualConversion:!0}}}async function c(r){return new Promise((e,s)=>{const n=new FileReader;n.onload=()=>{try{const o=n.result,a=new Uint8Array(o).slice(0,6),i=String.fromCharCode(...a);e({version:i})}catch(o){s(o)}},n.onerror=()=>s(new Error("Fout bij het lezen van het bestand"));const t=r.slice(0,128);n.readAsArrayBuffer(t)})}function l(){return!0}function v(){return"DWG bestanden moeten worden geconverteerd naar DXF formaat. Dit kan automatisch in de toekomst, maar voor nu kun je het bestand exporteren als DXF vanuit je CAD software."}export{d as convertDwgToDxf,v as getConversionInstructions,l as isDwgConversionAvailable};
